/*
Simple-Socialite
----------------

A silently failing, HTML tag-based abstraction API for socialite.js

Usage:
<div class="share-buttons" data-socialite="auto" data-services="twitter, facebook"></div>
*/window.Socialite=function(f,k,d){var h=0,m=[],e={},c={},a=/^($|loaded|complete)/,g=f.encodeURIComponent,l={settings:{},trim:function(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")},hasClass:function(b,a){return-1!==(" "+b.className+" ").indexOf(" "+a+" ")},addClass:function(b,a){l.hasClass(b,a)||(b.className=""===b.className?a:b.className+" "+a)},removeClass:function(b,a){b.className=l.trim(" "+b.className+" ".replace(" "+a+" "," "))},extendObject:function(b,a,c){for(var g in a){var n=b[g]!==
d;if(n&&"object"===typeof a[g])l.extendObject(b[g],a[g],c);else if(c||!n)b[g]=a[g]}},getElements:function(b,a){for(var c=0,d=[],n=!!b.getElementsByClassName,g=n?b.getElementsByClassName(a):b.getElementsByTagName("*");c<g.length;c++)(n||l.hasClass(g[c],a))&&d.push(g[c]);return d},getDataAttributes:function(b,a,c){var d=0,n="",l={};for(b=b.attributes;d<b.length;d++){var e=b[d].name,f=b[d].value;f.length&&0===e.indexOf("data-")&&(a&&(e=e.substring(5)),c?l[e]=f:n+=g(e)+"="+g(f)+"&")}return c?l:n},copyDataAttributes:function(b,
a,c,d){b=l.getDataAttributes(b,c,!0);for(var n in b)a.setAttribute(d?n.replace(/-/g,"_"):n,b[n])},createIframe:function(b,c){var d=k.createElement("iframe");d.style.cssText="overflow: hidden; border: none;";l.extendObject(d,{src:b,allowtransparency:"true",frameborder:"0",scrolling:"no"},!0);c&&(d.onload=d.onreadystatechange=function(){a.test(d.readyState||"")&&(d.onload=d.onreadystatechange=null,l.activateInstance(c))});return d},networkReady:function(b){return e[b]?e[b].loaded:d},appendNetwork:function(b){b&&
!b.appended&&("function"===typeof b.append&&!1===b.append(b)?(b.appended=b.loaded=!0,l.activateAll(b)):(b.script&&(b.el=k.createElement("script"),l.extendObject(b.el,b.script,!0),b.el.async=!0,b.el.onload=b.el.onreadystatechange=function(){a.test(b.el.readyState||"")&&(b.el.onload=b.el.onreadystatechange=null,b.loaded=!0,"function"===typeof b.onload&&!1===b.onload(b)||l.activateAll(b))},k.body.appendChild(b.el)),b.appended=!0))},removeNetwork:function(b){if(!l.networkReady(b.name))return!1;b.el.parentNode&&
b.el.parentNode.removeChild(b.el);return!(b.appended=b.loaded=!1)},reloadNetwork:function(b){(b=e[b])&&l.removeNetwork(b)&&l.appendNetwork(b)},createInstance:function(b,a){var c=!0,g={el:b,uid:h++,widget:a};m.push(g);a.process!==d&&(c="function"===typeof a.process?a.process(g):!1);c&&l.processInstance(g);g.el.setAttribute("data-socialite",g.uid);g.el.className="socialite "+a.name+" socialite-instance";return g},processInstance:function(b){var a=b.el;b.el=k.createElement("div");b.el.className=a.className;
l.copyDataAttributes(a,b.el);"a"!==a.nodeName.toLowerCase()||a.getAttribute("data-default-href")||b.el.setAttribute("data-default-href",a.getAttribute("href"));var c=a.parentNode;c.insertBefore(b.el,a);c.removeChild(a)},activateInstance:function(b){if(b&&!b.loaded)return b.loaded=!0,"function"===typeof b.widget.activate&&b.widget.activate(b),l.addClass(b.el,"socialite-loaded"),b.onload?b.onload(b.el):null},activateAll:function(b){"string"===typeof b&&(b=e[b]);for(var a=0;a<m.length;a++){var c=m[a];
c.init&&c.widget.network===b&&l.activateInstance(c)}},load:function(b,a,d,g,n){b=b&&"object"===typeof b&&1===b.nodeType?b:k;if(a&&"object"===typeof a){var e;if(/Array/.test(Object.prototype.toString.call(a)))for(e=0;e<a.length;e++)l.load(b,a[e],d,g,n);else if(1===a.nodeType){if(!d||!c[d]){d=null;b=a.className.split(" ");for(e=0;e<b.length;e++)if(c[b[e]]){d=b[e];break}if(!d)return}var f;d=c[d];b=parseInt(a.getAttribute("data-socialite"),10);if(isNaN(b))f=l.createInstance(a,d);else for(e=0;e<m.length;e++)if(m[e].uid===
b){f=m[e];break}!n&&f&&(f.init||(f.init=!0,f.onload="function"===typeof g?g:null,d.init(f)),d.network.appended?l.networkReady(d.network.name)&&l.activateInstance(f):l.appendNetwork(d.network))}}else l.load(b,l.getElements(b,"socialite"),d,g,n)},activate:function(a,c,d){f.Socialite.load(null,a,c,d)},process:function(a,c,d){f.Socialite.load(a,c,d,null,!0)},network:function(a,c){e[a]={name:a,el:null,appended:!1,loaded:!1,widgets:{}};c&&l.extendObject(e[a],c)},widget:function(a,d,g){g.name=a+"-"+d;e[a]&&
!c[g.name]&&(g.network=e[a],e[a].widgets[d]=c[g.name]=g)},setup:function(a){l.extendObject(l.settings,a,!0)}};return l}(window,window.document);
(function(f,k,d,h){d.setup({facebook:{lang:"en_GB",appId:null},twitter:{lang:"en"},googleplus:{lang:"en-GB"}});d.network("facebook",{script:{src:"//connect.facebook.net/{{language}}/all.js",id:"facebook-jssdk"},append:function(c){var a=k.createElement("div"),g=d.settings.facebook,l={onlike:"edge.create",onunlike:"edge.remove",onsend:"message.send"};a.id="fb-root";k.body.appendChild(a);c.script.src=c.script.src.replace("{{language}}",g.lang);f.fbAsyncInit=function(){f.FB.init({appId:g.appId,xfbml:!0});
for(var a in l)"function"===typeof g[a]&&f.FB.Event.subscribe(l[a],g[a])}}});d.widget("facebook","like",{init:function(c){var a=k.createElement("div");a.className="fb-like";d.copyDataAttributes(c.el,a);c.el.appendChild(a);f.FB&&f.FB.XFBML&&f.FB.XFBML.parse(c.el)}});d.network("twitter",{script:{src:"//platform.twitter.com/widgets.js",id:"twitter-wjs",charset:"utf-8"},append:function(){var c="object"!==typeof f.twttr,a=d.settings.twitter,g=["click","tweet","retweet","favorite","follow"];c&&(f.twttr=
t={_e:[],ready:function(a){t._e.push(a)}});f.twttr.ready(function(c){for(var b=0;b<g.length;b++){var e=g[b];"function"===typeof a["on"+e]&&c.events.bind(e,a["on"+e])}d.activateAll("twitter")});return c}});h=function(c){var a=k.createElement("a");a.className=c.widget.name+"-button";d.copyDataAttributes(c.el,a);a.setAttribute("href",c.el.getAttribute("data-default-href"));a.setAttribute("data-lang",c.el.getAttribute("data-lang")||d.settings.twitter.lang);c.el.appendChild(a)};var m=function(c){f.twttr&&
"object"===typeof f.twttr.widgets&&"function"===typeof f.twttr.widgets.load&&f.twttr.widgets.load()};d.widget("twitter","share",{init:h,activate:m});d.widget("twitter","follow",{init:h,activate:m});d.widget("twitter","hashtag",{init:h,activate:m});d.widget("twitter","mention",{init:h,activate:m});d.widget("twitter","embed",{process:function(c){c.innerEl=c.el;c.innerEl.getAttribute("data-lang")||c.innerEl.setAttribute("data-lang",d.settings.twitter.lang);c.el=k.createElement("div");c.el.className=
c.innerEl.className;c.innerEl.className="";c.innerEl.parentNode.insertBefore(c.el,c.innerEl);c.el.appendChild(c.innerEl)},init:function(c){c.innerEl.className="twitter-tweet"},activate:m});d.network("googleplus",{script:{src:"//apis.google.com/js/plusone.js"},append:function(c){if(f.gapi)return!1;f.___gcfg={lang:d.settings.googleplus.lang,parsetags:"explicit"}}});h=function(c){var a=k.createElement("div");a.className="g-"+c.widget.gtype;d.copyDataAttributes(c.el,a);c.el.appendChild(a);c.gplusEl=a};
var e=function(c,a){return"function"!==typeof a?null:function(d){a(c.el,d)}},m=function(c){var a=c.widget.gtype;if(f.gapi&&f.gapi[a]){for(var g=d.settings.googleplus,l=d.getDataAttributes(c.el,!0,!0),b=["onstartinteraction","onendinteraction","callback"],m=0;m<b.length;m++)l[b[m]]=e(c,g[b[m]]);f.gapi[a].render(c.gplusEl,l)}};d.widget("googleplus","one",{init:h,activate:m,gtype:"plusone"});d.widget("googleplus","share",{init:h,activate:m,gtype:"plus"});d.widget("googleplus","badge",{init:h,activate:m,
gtype:"plus"});d.network("linkedin",{script:{src:"//platform.linkedin.com/in.js"}});h=function(c){var a=k.createElement("script");a.type="IN/"+c.widget.intype;d.copyDataAttributes(c.el,a);c.el.appendChild(a);"object"===typeof f.IN&&"function"===typeof f.IN.parse&&(f.IN.parse(c.el),d.activateInstance(c))};d.widget("linkedin","share",{init:h,intype:"Share"});d.widget("linkedin","recommend",{init:h,intype:"RecommendProduct"})})(window,window.document,window.Socialite);
(function(){var f=window._socialite;if(/Array/.test(Object.prototype.toString.call(f)))for(var k=0,d=f.length;k<d;k++)if("function"===typeof f[k])f[k]()})();
(function(f,k,d,h){d.network("email");d.widget("email","simple",{init:function(m){var e=k.createElement("a"),c="mailto:?",a=d.getDataAttributes(m.el,!0,!0),g=encodeURIComponent(a.title),l=encodeURIComponent(a.description),b=encodeURIComponent(f.getSelection?f.getSelection():k.getSelection?k.getSelection():k.selection?k.selection.createRange().text:""),a=encodeURIComponent(a.url);e.className=m.widget.name;d.copyDataAttributes(m.el,e);g&&(c=c+("&subject="+g)+"&body=");b?c+=b:l&&(c+=l);a&&(c+="%0A%0A"+
a);e.setAttribute("href",c);m.el.getAttribute("data-image")&&(imgTag=k.createElement("img"),imgTag.src=m.el.getAttribute("data-image"),e.appendChild(imgTag));m.el.appendChild(e)},activate:function(){}})})(window,window.document,window.Socialite);
(function(f,k,d,h){var m=function(a,c,d,b){f.attachEvent?a.attachEvent("on"+c,d):(b||(b=!1),a.addEventListener(c,d,b))},e=function(a,g){var e=c(d.getDataAttributes(a.el,!0)),e=e.counturl||e.url,b="socialiteFacebookShare"+a.uid,e="https://graph.facebook.com/fql?q="+encodeURIComponent("select total_count from link_stat where url = '")+e+"'&callback="+b,m=k.createElement("script");m.src=e;ref=null;(ref=k.getElementsByTagName("script")[0])&&ref.parentNode.insertBefore(m,ref);f[b]=function(c){a.el.querySelectorAll(".counter")[0].innerHTML=
c.data[0].total_count;delete f[b];m.parentNode.removeChild(m)}},c=function(a){var c={};a=a.split(/[&=]/);for(var d in a)d%2&&(c[a[d-1]]=a[d]);return c};d.widget("facebook","share",{init:function(a){var c=k.createElement("a"),e="//www.facebook.com/share.php?",b=d.getDataAttributes(a.el,!0,!0);c.className=a.widget.name;d.copyDataAttributes(a.el,c);b.url&&(e+="u="+encodeURIComponent(b.url));b.title&&(e+="&t="+encodeURIComponent(b.title));e+="&"+d.getDataAttributes(c,!0);c.setAttribute("href",e);c.setAttribute("data-lang",
a.el.getAttribute("data-lang")||d.settings.facebook.lang);a.el.getAttribute("data-image")&&(imgTag=k.createElement("img"),imgTag.src=a.el.getAttribute("data-image"),c.appendChild(imgTag));"true"==a.el.getAttribute("data-show-counts")&&(e=k.createElement("span"),e.className="counter",e.innerHTML="&hellip;",c.appendChild(e));m(c,"click",function(a){a.preventDefault();a=c.querySelectorAll(".counter");if(a.length){var b=parseFloat(a[0].innerHTML);a[0].innerHTML=b+1}f.open(c.getAttribute("href"),"fb-share",
"left="+(screen.availWidth/2-350)+",top="+(screen.availHeight/2-163)+",height=325,width=700,menubar=0,resizable=0,status=0,titlebar=0")});a.el.appendChild(c)},activate:function(a){if("true"==c(d.getDataAttributes(a.el,!0))["show-counts"]){if(!k.querySelectorAll("style.custom-count-widgets").length){var g=k.createElement("style");g.className="custom-count-widgets";g.innerHTML='.socialite .counter { border-radius: 2px; background: #fff; position:relative; margin-left: 10px; vertical-align: middle; display:inline-block; min-width:6px; border:1px solid #e6e5e3; padding:6px 7px; font-family:"helvetica neue", helvetica, arial, sans-serif; font-size:13px; line-height:1.2; color:#222; text-decoration: none; }.socialite .counter:before { content:""; position:absolute; left: -5px; top: 10px; background:#fff; border:1px solid #e6e5e3; border-right:none; border-top:none; display:block; width:7px; height:6px; -webkit-transform: rotate(61deg) skewX(35deg); -moz-transform: rotate(61deg) skewX(35deg); -o-transform: rotate(61deg) skewX(35deg); -ms-transform: rotate(61deg) skewX(35deg); transform: rotate(61deg) skewX(35deg); }.socialite img { vertical-align: middle; }';
k.getElementsByTagName("head")[0].appendChild(g)}e(a)}}})})(window,window.document,window.Socialite);
(function(f,k,d,h){d.network("github");d.setup({github:{size:[{watch:[[62,20],[110,20]],fork:[[53,20],[95,20]],follow:[[150,20],[200,20]]},{watch:[[100,30],[170,30]],fork:[[80,30],[155,30]],follow:[[200,30],[300,30]]}]}});f=function(f){var e=f.el.getAttribute("data-type"),c="large"===f.el.getAttribute("data-size")?1:0,a="true"===f.el.getAttribute("data-count")?1:0,g=d.settings.github.size,e=e&&g[c].hasOwnProperty(e)?e:"watch";f.el.setAttribute("data-type",e);f.el.setAttribute("data-count",!!a);d.processInstance(f);
var l="http://ghbtns.com/github-btn.html?"+d.getDataAttributes(f.el,!0),l=d.createIframe(l,f);l.style.width=g[c][e][a][0]+"px";l.style.height=g[c][e][a][1]+"px";f.el.appendChild(l);d.activateInstance(f)};d.widget("github","watch",{process:null,init:f});d.widget("github","fork",{process:null,init:f});d.widget("github","follow",{process:null,init:f})})(window,window.document,window.Socialite);
(function(f,k,d,h){function m(d,c,a,g){f.attachEvent?d.attachEvent("on"+c,a):(g||(g=!1),d.addEventListener(c,a,g))}d.widget("googleplus","simple",{init:function(e){var c=k.createElement("a"),a="//plus.google.com/share?";d.getDataAttributes(e.el,!0,!0);c.className=e.widget.name;d.copyDataAttributes(e.el,c);a+="&"+d.getDataAttributes(c,!0);c.setAttribute("href",a);c.setAttribute("data-lang",e.el.getAttribute("data-lang")||d.settings.googleplus.lang);e.el.getAttribute("data-image")&&(imgTag=k.createElement("img"),
imgTag.src=e.el.getAttribute("data-image"),c.appendChild(imgTag));m(c,"click",function(a){a.preventDefault();f.open(c.getAttribute("href"),"gplus-share","left="+(screen.availWidth/2-350)+",top="+(screen.availHeight/2-163)+",height=300,width=600,menubar=0,resizable=0,status=0,titlebar=0")});e.el.appendChild(c)},activate:function(){}})})(window,window.document,window.Socialite);
(function(f,k,d,h){d.network("hackernews",{script:{src:"//hnbutton.appspot.com/static/hn.js"}});d.widget("hackernews","share",{init:function(f){var e=k.createElement("a");e.className="hn-share-button";d.copyDataAttributes(f.el,e);f.el.appendChild(e)},activate:function(d){f.HN&&f.HN.render(d.el)}})})(window,window.document,window.Socialite);
(function(f,k,d,h){function m(d,c,a,g){f.attachEvent?d.attachEvent("on"+c,a):(g||(g=!1),d.addEventListener(c,a,g))}d.widget("linkedin","simple",{init:function(e){var c=k.createElement("a"),a="//www.linkedin.com/shareArticle?mini=true&ro=false&trk=socialite.linkedin-simple";d.getDataAttributes(e.el,!0,!0);c.className=e.widget.name;d.copyDataAttributes(e.el,c);a+="&"+d.getDataAttributes(c,!0);c.setAttribute("href",a);e.el.getAttribute("data-image")&&(imgTag=k.createElement("img"),imgTag.src=e.el.getAttribute("data-image"),
c.appendChild(imgTag));m(c,"click",function(a){a.preventDefault();f.open(c.getAttribute("href"),"linkedin-simple","left="+(screen.availWidth/2-300)+",top="+(screen.availHeight/2-200)+",height=400,width=600,menubar=0,resizable=0,status=0,titlebar=0")});e.el.appendChild(c)},activate:function(){}})})(window,window.document,window.Socialite);
(function(f,k,d,h){d.network("linkedin",{script:{src:"//platform.linkedin.com/in.js"}});h=function(m){var e=k.createElement("script");e.type="IN/"+m.widget.intype;d.copyDataAttributes(m.el,e);m.el.appendChild(e);"object"===typeof f.IN&&"function"===typeof f.IN.parse&&(f.IN.parse(m.el),d.activateInstance(m))};d.widget("linkedin","share",{init:h,intype:"Share"});d.widget("linkedin","recommend",{init:h,intype:"RecommendProduct"})})(window,window.document,window.Socialite);
(function(f,k,d,h){d.network("pinterest",{script:{src:"//assets.pinterest.com/js/pinit.js"}});d.widget("pinterest","pinit",{process:function(d){if("a"!==d.el.nodeName.toLowerCase())return!0;var e="socialite-instance-"+d.uid,c=d.el.getAttribute("href");d.el.id=e;d.el.href="#"+e;d.el.setAttribute("data-default-href",c);d.el.setAttribute("onclick",'(function(){window.open("'+c+'")})();')},init:function(f){d.processInstance(f);var e=k.createElement("a");e.className="pin-it-button";d.copyDataAttributes(f.el,
e);e.setAttribute("href",f.el.getAttribute("data-default-href"));e.setAttribute("count-layout",f.el.getAttribute("data-count-layout")||"horizontal");f.el.appendChild(e);d.networkReady("pinterest")&&d.reloadNetwork("pinterest")}})})(window,window.document,window.Socialite);
(function(f,k,d,h){function m(d,c,a,g){f.attachEvent?d.attachEvent("on"+c,a):(g||(g=!1),d.addEventListener(c,a,g))}d.network("tumblr");d.widget("tumblr","simple",{init:function(e){var c=k.createElement("a"),a="//www.tumblr.com/share?v=3&",g=d.getDataAttributes(e.el,!0,!0);c.className=e.widget.name;d.copyDataAttributes(e.el,c);g.url&&(a+="u="+encodeURIComponent(g.url));g.title&&(a+="&t="+encodeURIComponent(g.title));if(g=f.getSelection?f.getSelection():k.getSelection?k.getSelection():k.selection?k.selection.createRange().text:
"")a+="&s="+encodeURIComponent(g);a+="&"+d.getDataAttributes(c,!0);c.setAttribute("href",a);e.el.getAttribute("data-image")&&(imgTag=k.createElement("img"),imgTag.src=e.el.getAttribute("data-image"),c.appendChild(imgTag));m(c,"click",function(a){a.preventDefault();f.open(c.getAttribute("href"),"tumblr-simple","left="+(screen.availWidth/2-225)+",top="+(screen.availHeight/2-215)+",height=430,width=450,menubar=0,resizable=0,status=0,titlebar=0")});e.el.appendChild(c)},activate:function(){}})})(window,
window.document,window.Socialite);
(function(f,k,d,h){var m=function(a,c,d,b){f.attachEvent?a.attachEvent("on"+c,d):(b||(b=!1),a.addEventListener(c,d,b))},e=function(a,e){var l=c(d.getDataAttributes(a.el,!0)),b="socialiteTwitterSimple"+a.uid,l="https://cdn.api.twitter.com/1/urls/count.json?url="+(l.counturl||l.url)+"&callback="+b,h=k.createElement("script");h.src=l;ref=null;(ref=k.getElementsByTagName("script")[0])&&ref.parentNode.insertBefore(h,ref);f[b]=function(c){a.el.querySelectorAll(".counter")[0].innerHTML=c.count;delete f[b];
h.parentNode.removeChild(h)}},c=function(a){var c={};a=a.split(/[&=]/);for(var d in a)d%2&&(c[a[d-1]]=a[d]);return c};d.widget("twitter","simple",{init:function(a){var c=k.createElement("a"),e="//twitter.com/intent/tweet?";c.className=a.widget.name;d.copyDataAttributes(a.el,c);e+=d.getDataAttributes(c,!0);c.setAttribute("href",e);c.setAttribute("data-lang",a.el.getAttribute("data-lang")||d.settings.twitter.lang);a.el.getAttribute("data-image")&&(e=k.createElement("img"),e.src=a.el.getAttribute("data-image"),
c.appendChild(e));"true"==a.el.getAttribute("data-show-counts")&&(e=k.createElement("a"),e.className="counter",e.innerHTML="&hellip;",e.href="https://twitter.com/search?q="+a.el.getAttribute("data-url"),m(e,"click",function(a){a.stopPropagation()}),c.appendChild(e));m(c,"click",function(a){a=c.querySelectorAll(".counter");if(a.length){var d=parseFloat(a[0].innerHTML);a[0].innerHTML=d+1}});a.el.appendChild(c)},activate:function(a){f.twttr&&"object"===typeof f.twttr.widgets&&"function"===typeof f.twttr.widgets.load&&
f.twttr.widgets.load();if("true"==c(d.getDataAttributes(a.el,!0))["show-counts"]){if(!k.querySelectorAll("style.custom-count-widgets").length){var g=k.createElement("style");g.className="custom-count-widgets";g.innerHTML='.socialite .counter { border-radius:2px; background: #fff; position:relative; margin-left: 10px; vertical-align: middle; display:inline-block; min-width:6px; border:1px solid #e6e5e3; padding:6px 7px; font-family:"helvetica neue", helvetica, arial, sans-serif; font-size:13px; line-height:1.2; color:#222; text-decoration: none; }.socialite .counter:before { content:""; position:absolute; left: -5px; top: 10px; background:#fff; border:1px solid #e6e5e3; border-right:none; border-top:none; display:block; width:7px; height:6px; -webkit-transform: rotate(61deg) skewX(35deg); -moz-transform: rotate(61deg) skewX(35deg); -o-transform: rotate(61deg) skewX(35deg); -ms-transform: rotate(61deg) skewX(35deg); transform: rotate(61deg) skewX(35deg); }.socialite img { vertical-align: middle; }';
k.getElementsByTagName("head")[0].appendChild(g)}e(a)}}})})(window,window.document,window.Socialite);
(function(){var f,k,d=[].slice;null==window.SimpleSocialite&&(window.SimpleSocialite={});k=0;f=function(){var h,m,e,c,a,g,l,b;if("undefined"===typeof jQuery||null===jQuery)return 6E3>k?(k++,setTimeout(f,10)):"undefined"!==typeof console&&null!==console&&console.log("Gave up trying to render your social buttons. Make sure jQuery is getting on the page at some point.");h=jQuery;a=function(){1<=arguments.length&&d.call(arguments,0);return!1};h.fn.getDataOptions=function(){var a,c;c={};a=h(this)[0];h.each(a.attributes,
function(a,d){var b,e;if(!d.nodeName.match(/^data-/))return!0;e=d.nodeValue;b=d.nodeName.replace(/^data-/,"");return b.match(/options$/)?c[b]=h.optionsFromQueryString(e):c[b]=e});return c};h.optionsFromQueryString=function(c){var d,b;d={};b=c.split(/(?:&(?:amp;)?|=)/);h.each(b,function(a,c){if(a%2)return d[b[a-1]]=decodeURIComponent(c)});a(d);return d};l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};g=/[&<>"'\/]/g;h.safeString=function(a){return(""+a).replace(g,function(a){return l[a]})};
c=function(){function a(c,d){this.provider=c;this.options=d}null==a._customNames&&(a._customNames={"twitter-share":"Twitter","facebook-like":"Facebook","pinterest-pinit":"Pinterest","googleplus-one":"Google Plus"});a.customNames=function(){return this._customNames};a.registerCustomName=function(a,c){if(null!=this.customNames()[a])throw"Custom name "+a+" is already registered.";return this._customNames[a]=c};a.prototype.to_html_params=function(){var a;a="";this.options=(new m(this.provider,this.options)).translate();
h.each(this.options,function(c,d){var b;b=h.safeString(d);return a+="data-"+c+'="'+b+'" '});return a.replace(/\ $/,"")};a.prototype.provider_display=function(){var a=this;return this.constructor.customNames()[this.provider]||function(){var c;c=a.provider.replace(/-simple$/,"").split(" ");h.each(c,function(a,d){return c[a]=d.charAt(0).toUpperCase()+d.slice(1)});return c.join(" ")}()};a.prototype.render=function(){return"<a href='' class='socialite "+this.provider+"' "+this.to_html_params()+">Share on "+
this.provider_display()+"</a>"};return a}();window.SimpleSocialite.ShareButton=c;e=function(){function d(a){var b=this;this.wrapper=a;this.wrapper=h(this.wrapper);this.options=h.extend({},this.constructor.defaults(),h(this.wrapper).getDataOptions());this.buttons=[];h.each(this.options.services.split(/, ?/),function(a,d){var e;e=b.constructor.serviceMappings()[d]||d;return b.buttons.push(new c(e,h.extend({},b.constructor.services()[e],b.options.options,b.options[""+e+"-options"],b.options[""+d+"-options"])))})}
d._container=h("<table style='vertical-align:middle;'><tbody></tbody></table>");d._defaults={layout:"horizontal",shortURLs:"never",showTooltips:!1};d._services={"twitter-simple":{},"twitter-share":{},"twitter-follow":{},"twitter-mention":{},"twitter-hashtag":{},"twitter-embed":{},"facebook-like":{},"facebook-share":{},"googleplus-simple":{},"googleplus-one":{},"linkedin-share":{},"linkedin-simple":{},"linkedin-recommend":{},"pinterest-pinit":{},"spotify-play":{},"hackernews-share":{},"github-watch":{},
"github-fork":{},"github-follow":{},"tumblr-simple":{},"email-simple":{}};d._serviceMappings={twitter:"twitter-simple","twitter-tweet":"twitter-share",facebook:"facebook-share",googleplus:"googleplus-simple","google-plusone":"googleplus-one",linkedin:"linkedin-simple",pinterest:"pinterest-pinit",tumblr:"tumblr-simple",email:"email-simple"};d.container=function(){return this._container.clone()};d.setContainer=function(a){return this._container=h(a)};d.defaults=function(){return this._defaults};d.setDefault=
function(a,c){null==this._defaults&&(this._defaults=this.defaults());this._defaults[a]=c;return this._defaults};d.services=function(){return this._services};d.serviceMappings=function(){return this._serviceMappings};d.registerButton=function(a){var d,b,e,f;e=a.name;f=a.nickname;d=a.defaults||{};null!=a.displayName&&(b=a.displayName);if(null==a.name)throw"You must provide a name to register.";if(null!=this.services()[e]||null!=this.serviceMappings()[f])throw"Name "+e+" is already registered.";if(null!=
this.serviceMappings()[f])throw"Nickname "+f+" is already registered.";this._services[e]=d;this._serviceMappings[f]=e;if(null!=b)return c.registerCustomName(e,b)};d.prototype.render=function(){var c,d=this;this.rendered=this.constructor.container();c=this.rendered.find("tbody");"horizontal"===this.options.layout&&(c=c.append("<tr></tr>").find("tr"));h.each(this.buttons,function(a,b){var e;e=h("<td>"+b.render()+"</td>");"vertical"===d.options.layout&&(e=e.wrap("<tr></tr>").parents("tr"));return c.append(e)});
this.wrapper.empty().append(this.rendered);a("loading contents of "+this.wrapper);return Socialite.load(this.wrapper[0])};return d}();null==(b=window.SimpleSocialite).ShareBar&&(b.ShareBar=e);m=function(){function c(a,d){var b=this;this.provider=a;this.options=d;this.translations={"twitter-share":function(){b.options.size||(b.options.size=b.options.width)&&delete b.options.width;b.options.text||(b.options.text=b.options.defaultText)&&delete b.options.defaultText;b.options.text||(b.options.text=b.options.title)&&
delete b.options.title;b.options.lang&&(b.options.lang=b.options.lang.replace(/-.+$/,""));return b.options},"twitter-simple":function(){return b.translations["twitter-share"]()},"facebook-like":function(){b.options.href||(b.options.href=b.options.url)&&delete b.options.url;b.options.layout||"right"===b.options.showCounts&&(b.options.layout="button_count");b.options.lang&&(b.options.lang=b.options.lang.replace("-","_"));return b.options},"googleplus-one":function(){var a;b.options.showCounts||b.options.annotation||
(b.options.annotation="none");!b.options.showCounts||b.options.annotation||"right"!==(a=b.options.showCounts)&&"top"!==a||(delete b.options.annotation,"top"===b.options.showCounts&&(b.options.size="tall"));(24===b.options.size||16===b.options.size&&"right"===b.options.showCounts)&&delete b.options.size;16===b.options.size&&(b.options.size="small");b.options.href||(b.options.href=b.options.url)&&delete b.options.url;return b.options},"googleplus-share":function(){b.options.showCounts||b.options.annotation||
(b.options.annotation="none");b.options.annotation||("right"===b.options.showCounts&&(b.options.annotation="bubble"),"top"===b.options.showCounts&&(b.options.annotation="vertical-bubble"));16===b.options.size&&delete b.options.size;24===b.options.size&&(b.options.height=24,delete b.options.size);b.options.href||(b.options.href=b.options.url)&&delete b.options.url;return b.options},"linkedin-share":function(){if(b.options.showCounts&&!b.options.counter)return(b.options.counter=b.options.showCounts)&&
delete b.options.showCounts}};window.optionMapper=this}c.prototype.provider_icon_name=function(){return{"facebook-share":"facebook","googleplus-one":"googleplus"}[this.provider]||this.provider.replace(/-simple$/,"")};c.prototype.button_img=function(){return"//s3.amazonaws.com/assets.sunlightfoundation.com/social/images/"+this.options.size+"/"+this.provider_icon_name()+".png"};c.prototype.translate=function(){var b,c;null==this.options.size&&(this.options.size=16);"string"!==typeof this.options.size||
isNaN(parseInt(this.options.size,10))||(this.options.size=parseInt(this.options.size,10));"number"===typeof this.options.size&&(this.options.size=16===(b=this.options.size)||24===b?this.options.size:16);this.options.url||null!=this.options.linkBack&&(this.options.url=this.options.linkBack)&&delete this.options.linkBack;this.options.url||(this.options.url=h('meta[property="og:url"]').attr("content")||location.href);this.options.title||(this.options.title=h('meta[property="og:title"]').attr("content")||
document.title);this.options.image||(this.options.image=this.button_img());"none"!==(c=this.options.showCounts)&&"false"!==c&&"never"!==c||delete this.options.showCounts;this.options.lang||(this.options.lang="en-US");try{this.translations[this.provider]()}catch(d){a("Totally failed to resolve options: "+d+". Falling back to defaults"),this.options}return this.options};return c}();return h(function(){var b,c,d,f,g;a("running onready bootstrap");c=function(b){try{return h(b).data("sharebar",new e(b)),
h(b).data("sharebar")}catch(c){return a("Caught error initializing sharebar: "+c)}};d=function(a){var b;a=h(a);b=a.attr("data-gigya")||h(a).attr("data-socialite");try{a.on(b,function(){return c(a[0]).render()})}catch(d){a.bind(b,function(){return c(a[0]).render()})}return a.trigger("auto")};try{h("body").on("register.simplesocialite",".share-buttons[data-socialite], .share-buttons[data-gigya]",function(){return d(this)})}catch(k){h("body").delegate(".share-buttons[data-socialite], .share-buttons[data-gigya]",
"register.simplesocialite",function(){return d(this)})}h(".share-buttons[data-socialite], .share-buttons[data-gigya]").each(function(){return d(this)});if(null!=window._gaq)return b=function(){FB.Event.subscribe("edge.create",function(b){a("tracking facebook");return _gaq.push(["_trackSocial","facebook","like",b])});return FB.Event.subscribe("edge.remove",function(a){return _gaq.push(["_trackSocial","facebook","unlike",a])})},window._fbAsyncInit=window.fbAsyncInit,window.fbAsyncInit=function(){"function"===
typeof window._fbAsyncInit&&window._fbAsyncInit();return b()},null!=window.FB&&b(),null!=window.twttr&&(g=function(b){var c;a("tracking twitter");try{c=b&&b.target&&"IFRAME"===b.target.nodeName?h.optionsFromQueryString(b.target.src.split("?")[1]).url:null}catch(d){c=null}return _gaq.push(["_trackSocial","twitter","tweet",c||location.href])},twttr.ready(function(a){return a.events.bind("tweet",g)})),f=function(b){b=(h(b.target).hasClass(".socialite-instance")?h(b.target):h(b.target).parents(".socialite-instance").eq(0)).attr("class").split(" ")[1];
if(!b.match(/twitter/)||null==window.twttr)return a("tracking "+b),_gaq.push(["_trackSocial",b,"share",location.href])},null!=h().on&&h("body").on("click",".socialite-instance",f)||h("body").delegate(".socialite-instance","click",f)})};f()}).call(this);
